<ion-header>
  <ion-toolbar>
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Status
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding class="fadeIn">

  <div class="fadeIn" *ngIf="!progresso">

    <div class="ion-text-center">
      <h3>Status da bomba</h3>
    </div>

    <ion-card>
      <ion-card-header class=""
        [ngClass]="logMomento.onOff==1 ?'ion-text-center card-success':'ion-text-center card-alert'">
        <ion-card-title>
          <span *ngIf="logMomento.onOff==1"> Ligada</span>
          <span *ngIf="logMomento.onOff==0"> Desligada</span>
        </ion-card-title>
      </ion-card-header>
    </ion-card>

    <div class="ion-text-center">
      <h3>Nível</h3>
    </div>
    <div margin-bottom class="ion-text-center">
      <img [src]="'assets/images/status/status_' + logMomento.levelAtMoment + '.png'" width="250">
    </div>

    <div class="ion-text-center">
      <h2 class="porcentagem_reservatorio">{{ porcentagemReservatorio }}%</h2>
      <h4>Aproximadamente {{ litrosReservatorio }} Litros</h4>
    </div>

    <div class="ion-text-center consumo">
      <h3>Controle da bomba d'agua</h3>
    </div>

    <ion-list *ngIf="logMomento.levelAtMoment  == 3">
  
      <ion-card-header
        class="ion-text-center card-alert">
        <ion-card-title>
          <p>O reservatório está cheio, nenhuma ação é permitida</p>
        </ion-card-title>
      </ion-card-header>
    </ion-list>

    <ion-list *ngIf="logMomento.onOff==1">
      <ion-button color="warning" margin-top expand="block" (click)="confirmarDesligarBomba()">Desligar</ion-button>
    </ion-list>

    <ion-list *ngIf="logMomento.onOff==0 && logMomento.levelAtMoment < 3">
      <ion-button color="warning" margin-top expand="block" (click)="confirmarDesligarBomba()">ligar</ion-button>
    </ion-list>
  </div>

  <div margin-top class="fadeIn">
    <div text-center margin class="white" *ngIf="progresso">Carregando</div>
    <ion-progress-bar *ngIf="progresso" type="indeterminate"></ion-progress-bar>
  </div>

</ion-content>